/*! Blob.js - A Blob, File, FileReader & URL implementation. | 2018-08-09 | By Eli Grey, http://eligrey.com / By Jimmy Wärting, https://github.com/jimmywarting | License: MIT | See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md */
!function(){var u="object"==typeof window?window:"object"==typeof self?self:this,r=u.BlobBuilder||u.WebKitBlobBuilder||u.MSBlobBuilder||u.MozBlobBuilder;u.URL=u.URL||u.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var o=u.Blob,y=URL.createObjectURL,d=URL.revokeObjectURL,i=u.Symbol&&u.Symbol.toStringTag,t=!1,e=!1,b=!!u.ArrayBuffer,n=r&&r.prototype.append&&r.prototype.getBlob;try{t=2===new Blob(["ä"]).size,e=2===new Blob([new Uint8Array([1,2])]).size}catch(t){}function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var o=new Uint8Array(t.byteLength);o.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=o.buffer}return e}return t})}function s(t,e){e=e||{};var o=new r;return a(t).forEach(function(t){o.append(t)}),e.type?o.getBlob(e.type):o.getBlob()}function c(t,e){return new o(a(t),e||{})}function l(){var t=!!u.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,e=u.XMLHttpRequest&&u.XMLHttpRequest.prototype.send;t&&e&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),e.call(this,t)});try{new File([],"")}catch(t){try{var o=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();u.File=o}catch(t){o=function(t,e,o){var r=new Blob(t,o),n=o&&void 0!==o.lastModified?new Date(o.lastModified):new Date;return r.name=e,r.lastModifiedDate=n,r.lastModified=+n,r.toString=function(){return"[object File]"},i&&(r[i]="File"),r};u.File=o}}}u.Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),i&&(File.prototype[i]="File",Blob.prototype[i]="Blob",FileReader.prototype[i]="FileReader"),t?(l(),u.Blob=e?u.Blob:c):n?(l(),u.Blob=s):function(){function a(t){for(var e=[],o=0;o<t.length;o++){var r=t.charCodeAt(o);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(o++,r=65536+((1023&r)<<10|1023&t.charCodeAt(o)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function e(t){var e,o,r,n,i,a;for(e="",r=t.length,o=0;o<r;)switch((n=t[o++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:i=t[o++],e+=String.fromCharCode((31&n)<<6|63&i);break;case 14:i=t[o++],a=t[o++],e+=String.fromCharCode((15&n)<<12|(63&i)<<6|(63&a)<<0)}return e}function s(t){for(var e=new Array(t.byteLength),o=new Uint8Array(t),r=e.length;r--;)e[r]=o[r];return e}function o(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=[],r=0;r<t.length;r+=3){var n=t[r],i=r+1<t.length,a=i?t[r+1]:0,s=r+2<t.length,c=s?t[r+2]:0,l=n>>2,f=(3&n)<<4|a>>4,p=(15&a)<<2|c>>6,u=63&c;s||(u=64,i||(p=64)),o.push(e[l],e[f],e[p],e[u])}return o.join("")}var t=Object.create||function(t){function e(){}return e.prototype=t,new e};if(b)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&-1<r.indexOf(Object.prototype.toString.call(t))};function l(t,e){for(var o=0,r=(t=t||[]).length;o<r;o++){var n=t[o];n instanceof l?t[o]=n._buffer:"string"==typeof n?t[o]=a(n):b&&(ArrayBuffer.prototype.isPrototypeOf(n)||c(n))?t[o]=s(n):b&&(i=n)&&DataView.prototype.isPrototypeOf(i)?t[o]=s(n.buffer):t[o]=a(String(n))}var i;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=e&&e.type||""}function n(t,e,o){var r=l.call(this,t,o=o||{})||this;return r.name=e,r.lastModifiedDate=o.lastModified?new Date(o.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(l.prototype.slice=function(t,e,o){return new l([this._buffer.slice(t||0,e||this._buffer.length)],{type:o})},l.prototype.toString=function(){return"[object Blob]"},(n.prototype=t(l.prototype)).constructor=n,Object.setPrototypeOf)Object.setPrototypeOf(n,l);else try{n.__proto__=l}catch(t){}function i(){if(!(this instanceof i))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var o=document.createDocumentFragment();this.addEventListener=o.addEventListener,this.dispatchEvent=function(t){var e=this["on"+t.type];"function"==typeof e&&e(t),o.dispatchEvent(t)},this.removeEventListener=o.removeEventListener}function f(t,e,o){if(!(e instanceof l))throw new TypeError("Failed to execute '"+o+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout(function(){this.readyState=i.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))})}n.prototype.toString=function(){return"[object File]"},i.EMPTY=0,i.LOADING=1,i.DONE=2,i.prototype.error=null,i.prototype.onabort=null,i.prototype.onerror=null,i.prototype.onload=null,i.prototype.onloadend=null,i.prototype.onloadstart=null,i.prototype.onprogress=null,i.prototype.readAsDataURL=function(t){f(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+o(t._buffer)},i.prototype.readAsText=function(t){f(this,t,"readAsText"),this.result=e(t._buffer)},i.prototype.readAsArrayBuffer=function(t){f(this,t,"readAsText"),this.result=t._buffer.slice()},i.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof l?"data:"+t.type+";base64,"+o(t._buffer):y.call(URL,t)},URL.revokeObjectURL=function(t){d&&d.call(URL,t)};var p=u.XMLHttpRequest&&u.XMLHttpRequest.prototype.send;p&&(XMLHttpRequest.prototype.send=function(t){t instanceof l?(this.setRequestHeader("Content-Type",t.type),p.call(this,e(t._buffer))):p.call(this,t)}),u.FileReader=i,u.File=n,u.Blob=l}()}();
